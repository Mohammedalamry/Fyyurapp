{% extends 'layouts/main.html' %}
{% block title %}New Artist{% endblock %}
{% block content %}
  <div class="form-wrapper">
    <form method="post" class="form">
      <h3 class="form-heading">List a new artist</h3>
      <div class="form-group">
        <label for="name">FirstName</label>
        {{ form.first_name(class_ = 'form-control', autofocus = true) }}
        <label for="name">LastName</label>
      {{ form.last_name(class_ = 'form-control', autofocus = true) }}
      </div>
      <div class="form-group"> 
      <label for="name">Middlle Name</label>
      {{ form.middlename(class_ = 'form-control', autofocus = true) }}
    </div>
      <div class="form-group">
          <label>City & State</label>
          <div class="form-inline">
            <div class="form-group">
              {{ form.city(class_ = 'form-control', placeholder='City', autofocus = true) }}
            </div> 
            <div class="form-group">
              {{ form.state(class_ = 'form-control', placeholder='State', autofocus = true) }}
            </div>
          </div>
      </div>
      <div class="form-group">
          <label  for="phone">Phone</label>
          {{ form.phone(class_ = 'form-control', placeholder='xxx-xxx-xxxx', autofocus = true,maxlength="12") }}
        </div>
      <div class="form-group">
        <label for="genres">Genres</label>
        <small>Ctrl+Click to select multiple</small>
        {{ form.genres(class_ = 'form-control', placeholder='Genres, separated by commas', autofocus = true) }}
      </div>

      <div class="form-group">
        <label for="genres">Image Link</label>
        {{ form.image_link(class_ = 'form-control', placeholder='http://',  autofocus = true) }}
      </div>
        
      <div class="form-group">
        <label for="genres"> Website Link</label>
        {{ form.website_link(class_ = 'form-control', placeholder='http://',  autofocus = true) }}
      </div>
      <div class="form-group">
    
        <label for="genres">Facebook Link</label>
        {{ form.facebook_link(class_ = 'form-control', placeholder='http://', autofocus = true) }}
      </div> 

      <div class="form-group">
      
        <input type="checkbox" name="checkbox" value="{{True}}"> Mark this box to if you seeking to a new Venue
       
    </div>
    <div class="form-group"   id="popmessage" >
      <label >   Enter your Message for seeking to a new Venue </label>
     
    </div>
    <div class="form-group" id = "seekingVenue">
       
       <!-- <textarea class="form-control "  name="seekingtalent" minlength=10,   required  cols="30" rows="3">

          </textarea>   -->
      {{form.textarea(class_ = 'form-control',   autofocus = true,  cols="30" ,rows="3")            }}


    </div>


      <input type="submit" value="Create Artist" class="btn btn-primary btn-lg btn-block">
    </form>
  </div>
{% endblock %}


{% block script %} 
<script> 
  // document.getElementById('seekingtalent').className = 'hidden';
//Section to definded  Varablie of  id and class in Html file to connet Html with javacript

var popmessage = document.querySelector('#popmessage');
var poptextarea = document.querySelector('#seekingVenue');
var checkbox = document.querySelector('input[value="True"]');

poptextarea.style.visibility = 'hidden';
popmessage.style.visibility =  'hidden';
//  poptextarea.style.visibility = 'hidden';
//function  to give a user option to seeking venu
checkbox.addEventListener('change',()=>{  
if(checkbox.checked){ 
  checkbox.value = true;
popmessage.style.visibility  = 'visible';
poptextarea.style.visibility = 'visible';

} else{ 
  checkbox.value = false;
popmessage.style.visibility = 'hidden';
poptextarea.style.visibility = 'hidden';

}
  } )
 
  console.log(checkbox.value)
//use Fetch Ajax to manpulaite data
//   var form1 = document.querySelector('.form').onsubmit = (e)=>{
//     console.log("Hellow flask1111")

//  e.preventDefault();
// console.log("Hellow json")
// fetch('/artists/create',{    
// method: 'POST',
// body: JSON.stringify({
//  'checkbox': checkbox.value,
//  'seekingVenue': document.querySelector('#seekingVenue').value
//   ,"Mohedmmed":"mmmm"
// }),
// headers: {
//     'Content-Type': 'application/json'
//   }

// })
// .then((response)=>{

// return response.json();

// })
// .then((jsonResponese)=>{      

// console.log(jsonResponese);

// })
// .catch(()=>{            

//   console.log("Hellow flask1111")



// })


  //  };

console.log("Hellow flask")
</script>
{% endblock %}